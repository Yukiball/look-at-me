{"version":3,"file":"js/about.d0794376.js","mappings":"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","sources":["webpack://look-at-me/./src/views/2048/index.vue","webpack://look-at-me/./src/plugin/commonFun/commonFun.ts","webpack://look-at-me/src/views/2048/index.vue","webpack://look-at-me/./src/views/2048/index.vue?4d3e","webpack://look-at-me/./src/views/2048/index.vue?ce0a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"game\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"top\"},[_c('h1',{staticClass:\"number\"},[_vm._v(\"2048\")]),_c('div',{staticClass:\"grade\"},[_c('div',{staticClass:\"now\"},[_vm._v(\" 分数 \"),_c('div',{staticClass:\"rem\"},[_vm._v(_vm._s(_vm.score))])]),_c('div',{staticClass:\"history\"},[_vm._v(\" 历史最高分数 \"),_c('div',{staticClass:\"rem\"},[_vm._v(_vm._s(_vm.history))])])])]),_c('div',{staticClass:\"text\"},[_vm._v(\"将相同数字融合相加，得到 2048 获胜!\")]),_c('div',{staticClass:\"box\"},[_c('ul',{staticClass:\"con\"},_vm._l((_vm.myListObject),function(val,key,index){return _c('li',{key:index,staticClass:\"numbox\",attrs:{\"count\":key}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(+val),expression:\"+val\"}],class:_vm.boxcolor(val)},[_vm._v(_vm._s(val))])])}),0)]),_c('a',{staticClass:\"jump\",attrs:{\"href\":\" https://github.com/Yukiball/look-at-me/blob/master/src/views/2048/index.vue \",\"target\":\"_blank\"}},[_vm._v(\"想看源码点这里\")])]),(_vm.showAlert)?_c('div',{staticClass:\"alert\"},[_c('span',{staticClass:\"over\"},[_vm._v(_vm._s(_vm.endText))]),_c('span',{staticClass:\"score\"},[_vm._v(\"您的分数为:\"+_vm._s(_vm.score))]),_c('span',{staticClass:\"agin\",on:{\"click\":_vm.again}},[_vm._v(\"再来一次\")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const getRandom = (min: number, max: number) => {\r\n  const range = max - min;\r\n  const rand = Math.random();\r\n  return min + Math.round(rand * range);\r\n};\r\nexport const setCookie = (\r\n  name: string | number,\r\n  value: string | number,\r\n  time: number\r\n) => {\r\n  const oDate = new Date();\r\n  oDate.setDate(oDate.getDate() + time);\r\n  document.cookie = name + \"=\" + value + \";expires=\" + oDate;\r\n};\r\nexport const getCookie = (key: string | number) => {\r\n  const arr = document.cookie.split(\"; \");\r\n  for (let i = 0, len = arr.length; i < len; i++) {\r\n    const temp = arr[i].split(\"=\");\r\n    if (temp[0] == key) {\r\n      return temp[1];\r\n    }\r\n  }\r\n};\r\nexport const removeCookie = (key: string | number) => {\r\n  setCookie(key, \"\", -1);\r\n};\r\n\r\nexport const $ = (name: any) => {\r\n  return document.querySelector(name);\r\n};\r\nexport const $$ = (name: any) => {\r\n  return document.querySelectorAll(name);\r\n};\r\n","<template>\r\n  <div class=\"game\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"top\">\r\n        <h1 class=\"number\">2048</h1>\r\n        <div class=\"grade\">\r\n          <div class=\"now\">\r\n            分数\r\n            <div class=\"rem\">{{ score }}</div>\r\n          </div>\r\n          <div class=\"history\">\r\n            历史最高分数\r\n            <div class=\"rem\">{{ history }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"text\">将相同数字融合相加，得到 2048 获胜!</div>\r\n      <div class=\"box\">\r\n        <ul class=\"con\">\r\n          <li\r\n            class=\"numbox\"\r\n            v-for=\"(val, key, index) of myListObject\"\r\n            :key=\"index\"\r\n            :count=\"key\"\r\n          >\r\n            <span :class=\"boxcolor(val)\" v-show=\"+val\">{{ val }}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <a\r\n        class=\"jump\"\r\n        href=\" https://github.com/Yukiball/look-at-me/blob/master/src/views/2048/index.vue \"\r\n        target=\"_blank\"\r\n        >想看源码点这里</a\r\n      >\r\n    </div>\r\n    <div class=\"alert\" v-if=\"showAlert\">\r\n      <span class=\"over\">{{ endText }}</span\r\n      ><span class=\"score\">您的分数为:{{ score }}</span\r\n      ><span class=\"agin\" @click=\"again\">再来一次</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\r\nimport { getRandom } from \"@/plugin/commonFun/commonFun\";\r\n@Component\r\nexport default class HelloWorld extends Vue {\r\n  gameLength = 4;\r\n  score = 0;\r\n  history = 0;\r\n  rem: Array<any> = [];\r\n  myListObject: any = {};\r\n  startX = 0;\r\n  startY = 0;\r\n  endX = 0;\r\n  endY = 0;\r\n  showAlert = false;\r\n  endText = \"\";\r\n  toDirection = {\r\n    37: \"left\",\r\n    38: \"up\",\r\n    39: \"right\",\r\n    40: \"down\",\r\n  };\r\n  get myList() {\r\n    return Object.keys(this.myListObject);\r\n  }\r\n  // boxcolor(i: number, j: number) {\r\n  //   return `num${this.listObj(i, j)}`;\r\n  // }\r\n\r\n  boxcolor(val: number) {\r\n    return `num${val}`;\r\n  }\r\n  listObj(i: number, j: number) {\r\n    return this.myListObject[`${i},${j}`];\r\n  }\r\n  mounted() {\r\n    this.init();\r\n    document.addEventListener(\"keydown\", this.keydown);\r\n    document.addEventListener(\"touchstart\", this.myTouchstart);\r\n    document.addEventListener(\"touchmove\", this.myTouchmove);\r\n    document.addEventListener(\"touchend\", this.myTouchend);\r\n  }\r\n  beforeDestroy() {\r\n    document.removeEventListener(\"keydown\", this.keydown);\r\n    document.removeEventListener(\"touchstart\", this.myTouchstart);\r\n    document.removeEventListener(\"touchmove\", this.myTouchmove);\r\n    document.removeEventListener(\"touchend\", this.myTouchend);\r\n  }\r\n  init() {\r\n    this.getDom();\r\n    this.grade();\r\n  }\r\n  getDom() {\r\n    this.setDom();\r\n    this.getNum();\r\n  }\r\n  setDom() {\r\n    this.myListObject = {};\r\n    for (let i = 0; i < this.gameLength; i++) {\r\n      for (let j = 0; j < this.gameLength; j++) {\r\n        // this.myList.push([i, j]);\r\n        this.$set(this.myListObject, `${i},${j}`, 0);\r\n        // this.myListObject[`${i},${j}`] = 0;\r\n      }\r\n    }\r\n  }\r\n  getNum() {\r\n    let newArr = [];\r\n    this.rem = [];\r\n    const ran = getRandom(2, 4); //一开始生成几个块\r\n    for (;;) {\r\n      const num = getRandom(0, 15);\r\n      newArr.push(num);\r\n      this.rem = Array.from(new Set(newArr));\r\n      if (this.rem.length === ran) {\r\n        this.addNum(); //初始化\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  addNum() {\r\n    for (let i = 0; i < this.rem.length; i++) {\r\n      let rand = Math.round(Math.random() + 1) * 2;\r\n      let numrem = this.rem[i];\r\n      this.$set(this.myListObject, this.myList[numrem], rand);\r\n    }\r\n  }\r\n  keydown(e: any) {\r\n    switch (e.keyCode) {\r\n      case 37:\r\n        this.myOnkeydown(37);\r\n        break; //左\r\n      case 38:\r\n        this.myOnkeydown(38);\r\n        break; //上\r\n      case 39:\r\n        this.myOnkeydown(39);\r\n        break; //右\r\n      case 40:\r\n        this.myOnkeydown(40);\r\n        break; //下\r\n    }\r\n  }\r\n  myTouchstart(e: any) {\r\n    e.preventDefault();\r\n    let touch = e.touches[0];\r\n    this.startY = touch.clientY;\r\n    this.startX = touch.clientX;\r\n    this.endY = touch.clientY;\r\n    this.endX = touch.clientX;\r\n  }\r\n  myTouchmove(e: any) {\r\n    e.preventDefault();\r\n    let touch = e.touches[0];\r\n    this.endY = touch.clientY;\r\n    this.endX = touch.clientX;\r\n  }\r\n  myTouchend() {\r\n    if (\r\n      this.endY - this.startY > 50 &&\r\n      Math.abs(this.endX - this.startX) < this.endY - this.startY\r\n    ) {\r\n      this.myOnkeydown(40);\r\n    } else if (\r\n      this.endY - this.startY < -50 &&\r\n      Math.abs(this.endX - this.startX) < Math.abs(this.endY - this.startY)\r\n    ) {\r\n      this.myOnkeydown(38);\r\n    } else if (\r\n      this.endX - this.startX > 50 &&\r\n      Math.abs(this.endY - this.startY) < this.endX - this.startX\r\n    ) {\r\n      this.myOnkeydown(39);\r\n    } else if (\r\n      this.endX - this.startX < -50 &&\r\n      Math.abs(this.endY - this.startY) < Math.abs(this.endX - this.startX)\r\n    ) {\r\n      this.myOnkeydown(37);\r\n    }\r\n  }\r\n  checkSame(saveObj: any, newObj: any) {\r\n    for (let val of this.myList) {\r\n      if (saveObj[val] !== newObj[val]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  myOnkeydown(num: 37 | 38 | 39 | 40) {\r\n    let save = { ...this.myListObject };\r\n    this.changeDirection(num);\r\n    if (!this.checkSame(save, this.myListObject)) {\r\n      this.born();\r\n      this.grade();\r\n      this.gameover();\r\n      this.win();\r\n    }\r\n  }\r\n  /**\r\n   * @description: 点击上下左右\r\n   * @param {*} direction\r\n   * @return {*}\r\n   */\r\n  changeDirection(keycode: 37 | 38 | 39 | 40) {\r\n    let direction = this.toDirection[keycode];\r\n    let saveArr = [];\r\n    let newMyList: Array<string> = [];\r\n    let saveLine: number;\r\n    let line: number;\r\n    if (direction === \"up\" || direction === \"down\") {\r\n      let useArr: Array<string> = [...this.myList];\r\n      useArr = direction === \"up\" ? useArr : useArr.reverse();\r\n      for (let i = 0; i < this.gameLength; i++) {\r\n        let e = i;\r\n        let time = 0;\r\n        while (time < this.gameLength) {\r\n          newMyList.push(...useArr.slice(e, e + 1));\r\n          e += this.gameLength;\r\n          time++;\r\n        }\r\n      }\r\n    } else {\r\n      newMyList = [...this.myList];\r\n      newMyList = direction === \"right\" ? newMyList.reverse() : newMyList;\r\n    }\r\n    if (direction === \"left\" || direction === \"up\") {\r\n      saveLine = line = 0;\r\n    } else {\r\n      saveLine = line = this.gameLength - 1;\r\n    }\r\n    newMyList.push(\"n,n\"); // 要不到不了最后一行\r\n    for (let value of newMyList) {\r\n      line =\r\n        direction === \"right\" || direction === \"left\"\r\n          ? +value.split(\",\")[0]\r\n          : +value.split(\",\")[1];\r\n      if (line === saveLine) {\r\n        saveArr.push(this.myListObject[value]);\r\n      } else {\r\n        const arr = [...saveArr];\r\n        while (arr.includes(0)) {\r\n          arr.splice(arr.indexOf(0), 1);\r\n        }\r\n        for (let i = 0; i < arr.length; i++) {\r\n          if (arr[i] === arr[i + 1]) {\r\n            arr[i] = arr[i] * 2;\r\n            this.score += arr[i];\r\n            arr[i + 1] = 0;\r\n            arr.splice(arr.indexOf(0), 1);\r\n          }\r\n        }\r\n        for (let i = 0; i < this.gameLength; i++) {\r\n          if (direction === \"left\") {\r\n            this.$set(this.myListObject, `${saveLine},${i}`, arr[i] || 0);\r\n          } else if (direction === \"right\") {\r\n            this.$set(\r\n              this.myListObject,\r\n              `${saveLine},${this.gameLength - i - 1}`,\r\n              arr[i] || 0\r\n            );\r\n          } else if (direction === \"up\") {\r\n            this.$set(this.myListObject, `${i},${saveLine}`, arr[i] || 0);\r\n          } else {\r\n            this.$set(\r\n              this.myListObject,\r\n              `${this.gameLength - i - 1},${saveLine}`,\r\n              arr[i] || 0\r\n            );\r\n          }\r\n        }\r\n\r\n        saveLine = line;\r\n        saveArr = [];\r\n        saveArr.push(this.myListObject[value]);\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * @description: 每动一下生成一个新的\r\n   * @return {*}\r\n   */\r\n  born() {\r\n    const savespan = [];\r\n    for (let val of this.myList) {\r\n      if (this.myListObject[val] == 0) {\r\n        savespan.push(val);\r\n      }\r\n    }\r\n    let spannum = getRandom(0, savespan.length - 1);\r\n    let rand = Math.round(Math.random() + 1) * 2;\r\n    this.myListObject[savespan[spannum]] = rand;\r\n  }\r\n  /**\r\n   * @description: 分数\r\n   * @return {*}\r\n   */\r\n  grade() {\r\n    const storage = window.localStorage;\r\n    if (!storage.score) {\r\n      storage.score = 0;\r\n      this.history = 0;\r\n    } else {\r\n      this.history = storage.score;\r\n      if (this.score > this.history) {\r\n        storage.score = this.score;\r\n        this.history = this.score;\r\n      }\r\n    }\r\n  }\r\n  win() {\r\n    for (let prop of this.myList) {\r\n      if (this.myListObject[\"\" + prop] == 2048) {\r\n        setTimeout(() => {\r\n          this.showAlert = true;\r\n          this.endText = \"恭喜通关！\";\r\n          this.grade();\r\n        });\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * @description: 结束\r\n   * @return {*}\r\n   * 如果一个元素和他的右边下变都不相同，就到下一个\r\n   */\r\n  gameover() {\r\n    let row = 0;\r\n    let line = 0;\r\n    let count = 0;\r\n    while (row < this.gameLength) {\r\n      line = 0;\r\n      if (row < this.gameLength - 1) {\r\n        while (line < this.gameLength) {\r\n          if (line < this.gameLength - 1) {\r\n            if (this.myListObject[`${line},${row}`] === 0) {\r\n              count++;\r\n            }\r\n\r\n            if (\r\n              this.myListObject[`${line},${row}`] ===\r\n                this.myListObject[`${line + 1},${row}`] ||\r\n              this.myListObject[`${line},${row}`] ===\r\n                this.myListObject[`${line},${row + 1}`]\r\n            ) {\r\n              count++;\r\n            }\r\n          } else {\r\n            if (this.myListObject[`${line},${row}`] === 0) {\r\n              count++;\r\n            }\r\n            if (\r\n              this.myListObject[`${line},${row}`] ===\r\n              this.myListObject[`${line},${row + 1}`]\r\n            ) {\r\n              count++;\r\n            }\r\n          }\r\n          line++;\r\n        }\r\n      } else {\r\n        while (line < this.gameLength) {\r\n          if (this.myListObject[`${line},${row}`] === 0) {\r\n            count++;\r\n          }\r\n          if (line < this.gameLength - 1) {\r\n            if (\r\n              this.myListObject[`${line},${row}`] ===\r\n              this.myListObject[`${line + 1},${row}`]\r\n            ) {\r\n              count++;\r\n            }\r\n          } else {\r\n            if (this.myListObject[`${line},${row}`] === 0) {\r\n              count++;\r\n            }\r\n          }\r\n          line++;\r\n        }\r\n      }\r\n      row++;\r\n    }\r\n    if (count === 0) {\r\n      setTimeout(() => {\r\n        this.endText = \"游戏结束!\";\r\n        this.showAlert = true;\r\n        this.grade();\r\n      }, 100);\r\n    }\r\n  }\r\n  again() {\r\n    this.score = 0;\r\n    this.showAlert = false;\r\n    this.myListObject = {};\r\n    this.init();\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n@import \"./index.scss\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=27fd73af&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=27fd73af&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27fd73af\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","_v","_s","score","history","_l","myListObject","val","key","index","attrs","directives","name","rawName","value","expression","class","boxcolor","showAlert","endText","on","again","_e","staticRenderFns","getRandom","min","max","range","rand","Math","random","round","HelloWorld","Vue","constructor","args","_defineProperty","myList","Object","keys","listObj","i","j","mounted","init","document","addEventListener","keydown","myTouchstart","myTouchmove","myTouchend","beforeDestroy","removeEventListener","getDom","grade","setDom","getNum","gameLength","$set","newArr","rem","ran","num","push","Array","from","Set","length","addNum","numrem","e","keyCode","myOnkeydown","preventDefault","touch","touches","startY","clientY","startX","clientX","endY","endX","abs","checkSame","saveObj","newObj","save","changeDirection","born","gameover","win","keycode","saveLine","line","direction","toDirection","saveArr","newMyList","useArr","reverse","time","slice","split","arr","includes","splice","indexOf","savespan","spannum","storage","window","localStorage","prop","setTimeout","row","count","__decorate","Component","component"],"sourceRoot":""}